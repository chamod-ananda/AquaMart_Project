/* WhatsApp-like Chat Widget Styles */

.chat-modal .modal-dialog { max-width:900px; }
.chat-container { 
  display:flex; 
  gap:0; 
  min-height:500px; 
  border-radius:12px; 
  overflow:hidden; 
  box-shadow:0 20px 60px rgba(0,0,0,.15); 
}

.chat-conv-list { 
  width:280px; 
  border-right:1px solid #e9edef; 
  background:#f8f9fa; 
  overflow-y:auto; 
}

.chat-conv-header { 
  padding:16px 18px; 
  font-weight:600; 
  border-bottom:1px solid #e9edef; 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  background:#128C7E; 
  color:white; 
  font-size:1.1rem;
}

.chat-conv-item { 
  padding:12px 16px; 
  cursor:pointer; 
  border-bottom:1px solid #f1f1f2; 
  transition:all .2s ease; 
  position:relative;
}
.chat-conv-item:hover { 
  background:#e7f3ff; 
  transform:translateX(2px);
}
.chat-conv-item.active { 
  background:#dcf8c6; 
  border-left:4px solid #25D366;
}
.chat-conv-item .title { 
  font-size:.95rem; 
  font-weight:600; 
  color:#111b21; 
  margin-bottom:2px;
}
.chat-conv-item .preview { 
  font-size:.8rem; 
  color:#667781; 
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis; 
}
.chat-conv-item .time { 
  font-size:.7rem; 
  color:#8696a0; 
  position:absolute; 
  top:12px; 
  right:16px;
}

.chat-panel { 
  flex:1; 
  display:flex; 
  flex-direction:column; 
  background-image:url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="whatsapp-bg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse"><circle cx="30" cy="30" r="1.5" fill="%23e5ddd5" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="%23efeae2"/><rect width="100" height="100" fill="url(%23whatsapp-bg)"/></svg>'); 
}

.chat-panel-header { 
  padding:16px 20px; 
  border-bottom:1px solid #e9edef; 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  background:#128C7E; 
  color:white; 
}
.chat-panel-header .fish { 
  font-weight:600; 
  font-size:1.1rem; 
}

.chat-messages { 
  flex:1; 
  padding:20px; 
  overflow-y:auto; 
  display:flex; 
  flex-direction:column; 
  gap:8px; 
  scroll-behavior:smooth;
}

.chat-day-divider { 
  text-align:center; 
  font-size:.75rem; 
  font-weight:500; 
  color:#54656f; 
  margin:16px 0 8px; 
  position:relative; 
  background:#e1f4f3; 
  padding:6px 12px; 
  border-radius:12px; 
  display:inline-block; 
  align-self:center;
}

.bubble { 
  max-width:70%; 
  padding:8px 12px; 
  border-radius:8px; 
  font-size:.9rem; 
  line-height:1.4; 
  position:relative; 
  word-break:break-word; 
  animation:bubbleSlide 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}

@keyframes bubbleSlide {
  from { opacity:0; transform:translateY(10px) scale(0.9); }
  to { opacity:1; transform:translateY(0) scale(1); }
}

.bubble.me { 
  margin-left:auto; 
  background:#dcf8c6; 
  color:#111b21; 
  border-bottom-right-radius:2px; 
  position:relative;
}
.bubble.me::before {
  content:'';
  position:absolute;
  bottom:0;
  right:-8px;
  width:0;
  height:0;
  border:8px solid transparent;
  border-bottom-color:#dcf8c6;
  border-right:none;
}

.bubble.other { 
  background:#ffffff; 
  color:#111b21; 
  border-bottom-left-radius:2px; 
  position:relative;
}
.bubble.other::before {
  content:'';
  position:absolute;
  bottom:0;
  left:-8px;
  width:0;
  height:0;
  border:8px solid transparent;
  border-bottom-color:#ffffff;
  border-left:none;
}

.bubble .time { 
  display:block; 
  font-size:.7rem; 
  color:#667781; 
  margin-top:4px; 
  text-align:right;
}

.bubble img {
  border-radius:8px;
  max-width:100%;
  margin-top:4px;
}

.chat-input-bar { 
  display:flex; 
  gap:8px; 
  padding:12px 16px; 
  border-top:1px solid #e9edef; 
  background:#f0f0f0; 
  align-items:flex-end;
}

.chat-input-bar label {
  background:#25D366;
  color:white;
  border-radius:50%;
  width:44px;
  height:44px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:all .2s ease;
  margin:0;
}
.chat-input-bar label:hover {
  background:#128C7E;
  transform:scale(1.05);
}

.chat-input-bar input { 
  flex:1; 
  border:1px solid #d1d7db; 
  border-radius:24px; 
  padding:12px 18px; 
  font-size:.9rem; 
  outline:none; 
  transition:all .2s ease; 
  background:white;
  resize:none;
  max-height:120px;
}
.chat-input-bar input:focus { 
  border-color:#25D366; 
  box-shadow:0 0 0 2px rgba(37,211,102,.2); 
}

.chat-input-bar button { 
  background:#25D366; 
  color:#fff; 
  border:none; 
  border-radius:50%; 
  width:44px; 
  height:44px; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  cursor:pointer; 
  transition:all .2s ease; 
  font-size:1rem;
}
.chat-input-bar button:hover { 
  background:#128C7E; 
  transform:scale(1.05); 
}

.chat-empty { 
  flex:1; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  flex-direction:column; 
  color:#8696a0; 
  font-size:.9rem; 
}
.chat-empty i { 
  font-size:64px; 
  margin-bottom:16px; 
  color:#bcc8d0; 
}

/* Message status indicators */
.message-status {
  display:inline-block;
  margin-left:4px;
  font-size:.7rem;
  color:#53bdeb;
}

/* Typing indicator */
.typing-indicator {
  display:flex;
  align-items:center;
  gap:4px;
  padding:8px 12px;
  background:#f0f0f0;
  border-radius:8px;
  margin:4px 0;
  max-width:60px;
}
.typing-dot {
  width:6px;
  height:6px;
  border-radius:50%;
  background:#8696a0;
  animation:typingDot 1.4s infinite;
}
.typing-dot:nth-child(2) { animation-delay:.2s; }
.typing-dot:nth-child(3) { animation-delay:.4s; }

@keyframes typingDot {
  0%, 60%, 100% { opacity:.3; transform:scale(0.8); }
  30% { opacity:1; transform:scale(1); }
}

@media (max-width: 768px) {
  .chat-container { flex-direction:column; min-height:400px; }
  .chat-conv-list { width:100%; height:200px; border-right:none; border-bottom:1px solid #e9edef; }
  .chat-panel { min-height:300px; }
  .chat-conv-item { padding:10px 12px; }
  .bubble { max-width:85%; }
}
